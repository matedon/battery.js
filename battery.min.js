var Battery=function(d){function h(b){b instanceof BatteryManager&&(a=b);e(a)}function f(a){["chargingchange","chargingtimechange","dischargingtimechange","levelchange"].forEach(function(b){a.addEventListener(b,h)})}var c=navigator.getBattery||navigator.battery||navigator.mozBattery,a=null,g=function(){},e=function(){};d.getStatus=function(b){"not supported"===a?b(null,a):a?b(a):g=b};d.onUpdate=function(a){e=a};c instanceof Function?c.call(navigator).then(function(b){a=b;g(a);f(a)},function(){a="not supported"}):
  c?(a=c,f(c)):a="not supported";return d}(Battery||{});